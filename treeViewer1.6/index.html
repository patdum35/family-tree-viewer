<!-- <!DOCTYPE html>

<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light">
  <title>Redirection...</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      background: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    .icon {
      font-size: 60px;
      text-align: center;
      margin-bottom: 20px;
    }
    
    h1 {
      color: #333;
      font-size: 24px;
      text-align: center;
      margin-bottom: 15px;
    }
    
    .browser-name {
      color: #667eea;
      font-weight: bold;
      background: #f0f0f0;
      padding: 5px 10px;
      border-radius: 5px;
      display: inline-block;
    }
    
    p {
      color: #666;
      line-height: 1.6;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .steps {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .steps ol {
      padding-left: 20px;
      color: #444;
    }
    
    .steps li {
      margin: 10px 0;
      line-height: 1.5;
    }
    
    .button {
      display: block;
      width: 100%;
      padding: 15px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 0;
      transition: all 0.3s;
    }
    
    .button:hover {
      background: #45a049;
    }
    
    .button.secondary {
      background: #2196F3;
    }
    
    .button.secondary:hover {
      background: #0b7dda;
    }
    
    .continue-link {
      text-align: center;
      margin-top: 20px;
    }
    
    .continue-link a {
      color: #999;
      text-decoration: none;
      font-size: 14px;
    }
    
    .success {
      color: #4CAF50;
      font-weight: bold;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container" id="content"></div>

  <script>
    // ‚ö†Ô∏è CONFIGUREZ ICI L'URL DE VOTRE APPLICATION
    const APP_URL = 'https://patdum35.github.io/family-tree-viewer/treeViewer1.6/treeViewer1.6.html';

    // Ajouter un cache-buster automatique - GLOBAL pour √™tre accessible partout
    window.FULL_URL = APP_URL + '?v=' + Date.now();

    
    // D√©tection imm√©diate
    (function() {
      const ua = navigator.userAgent.toLowerCase();
      let isProblematic = false;
      let browserName = '';
      
      // Liste des navigateurs probl√©matiques
      if (ua.includes('samsungbrowser')) {
        isProblematic = true;
        browserName = 'Samsung Internet';
      } else if (ua.includes('miuibrowser') || ua.includes('xbrowser')) {
        isProblematic = true;
        browserName = 'MIUI Browser';
      } else if (ua.includes('oppo')) {
        isProblematic = true;
        browserName = 'Oppo Browser';
      } else if (ua.includes('vivo')) {
        isProblematic = true;
        browserName = 'Vivo Browser';
      } else if (ua.includes('huawei')) {
        isProblematic = true;
        browserName = 'Huawei Browser';
      } else if (ua.includes('ucbrowser')) {
        isProblematic = true;
        browserName = 'UC Browser';
      } else if (ua.includes('android') && !ua.includes('chrome') && !ua.includes('firefox')) {
        isProblematic = true;
        browserName = 'Navigateur syst√®me';
      } else if (ua.includes('edg')) {
        isProblematic = false;
        browserName = 'Edge';
      }  else if (ua.includes('chrome')) {
        isProblematic = false;
        browserName = 'Chrome';
      }
      
      const content = document.getElementById('content');
      
      // if (isProblematic) {
      if (true) {
        // Afficher l'avertissement
        content.innerHTML = `
          <h1 style="white-space: nowrap; margin-top: -20px; margin-bottom: 5px; padding: 0;  font-size: 20px;">‚ö†Ô∏è Navigateur compatible ?</h1>
          <p>Vous utilisez <span class="browser-name" style="padding-top: 0px; padding-bottom: 1px;">${browserName}</span></p>
          <p style= "margin-top: -10px;">Ce navigateur risque d'inverser les couleurs de l'app.</p>
          
          <div class="steps" style="padding-top: 3px; padding-bottom: 2px; padding-left: 5px; padding-right: 2px;">
            <strong style="padding: 5px;">Solutions :</strong>
            <ol>
              <li>Ouvrez dans <strong>Chrome</strong> ou <strong>Firefox</strong></li>
              <li>Plan B : Continuer quand m√™me, et activer le mode site lumineux </li>
              <li>Plan C : Copiez l'URL et coller dans un autre browser</li>
            </ol>
          </div>

          <button class="button secondary" onclick="tryChrome()">
            üöÄ Ouvrir dans Chrome
          </button>          
          <button class="button" style="background: #ff9800;" onclick="window.location.href=FULL_URL">
            ‚ö†Ô∏è Continuer quand m√™me
          </button>
          <button class="button" onclick="copyUrl()">
            üìã Copier l'URL
          </button>
        `;
      } 
      else {
        // Redirection imm√©diate
        window.location.href = APP_URL;
      }
    })();

   
    function tryChrome() {
      const url = APP_URL.replace('https://', '');
      window.location.href = `intent://${url}#Intent;scheme=https;package=com.android.chrome;end`;
      
      setTimeout(() => {
        alert('Si Chrome ne s\'ouvre pas, utilisez le bouton "Copier l\'URL"');
      }, 2000);
    }

    function copyUrl() {
      const url = APP_URL;
      const textArea = document.createElement('textarea');
      textArea.value = url;
      textArea.style.position = 'fixed';
      textArea.style.left = '-9999px';
      document.body.appendChild(textArea);
      textArea.select();
      
      try {
        document.execCommand('copy');
        const msg = document.createElement('div');
        msg.className = 'success';
        msg.textContent = '‚úÖ URL copi√©e !';
        document.querySelector('.steps').after(msg);
        setTimeout(() => msg.remove(), 2000);
      } catch (err) {
        alert('Copiez manuellement : ' + url);
      }
      
      document.body.removeChild(textArea);
    }
    

  </script>
</body>
</html> -->




<!DOCTYPE html>

<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light">
  <title>Redirection...</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .container {
      background: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    .icon {
      font-size: 60px;
      text-align: center;
      margin-bottom: 20px;
    }
    
    h1 {
      color: #333;
      font-size: 24px;
      text-align: center;
      margin-bottom: 15px;
    }
    
    .browser-name {
      color: #667eea;
      font-weight: bold;
      background: #f0f0f0;
      padding: 5px 10px;
      border-radius: 5px;
      display: inline-block;
    }
    
    p {
      color: #666;
      line-height: 1.6;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .steps {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .steps ol {
      padding-left: 20px;
      color: #444;
    }
    
    .steps li {
      margin: 10px 0;
      line-height: 1.5;
    }
    
    .button {
      display: block;
      width: 100%;
      padding: 15px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 0;
      transition: all 0.3s;
    }
    
    .button:hover {
      background: #45a049;
    }
    
    .button.secondary {
      background: #2196F3;
    }
    
    .button.secondary:hover {
      background: #0b7dda;
    }
    
    .continue-link {
      text-align: center;
      margin-top: 20px;
    }
    
    .continue-link a {
      color: #999;
      text-decoration: none;
      font-size: 14px;
    }
    
    .success {
      color: #4CAF50;
      font-weight: bold;
      text-align: center;
      margin-top: 10px;
    }

    /* ===== Ajout du s√©lecteur de langue avec drapeaux - NE PAS TOUCHER LE RESTE ===== */
    #language-selector-container {
      position: fixed;
      top: 8px;
      right: 12px;
      margin-top: 0;
      z-index: 9999;
      pointer-events: none;
    }
    .language-selector {
      background-color: rgba(255, 255, 255, 0.8);
      padding: 6px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      display: flex;
      gap: 6px;
      pointer-events: auto;
    }
    .lang-flag {
      width: 28px;
      height: 20px;
      border-radius: 4px;
      cursor: pointer;
      border: 1px solid #ccc;
      box-sizing: border-box;
      background-size: cover;
    }
    /* .lang-flag.active {
      outline: 2px solid #2196F3;
      outline-offset: 2px;
    } */
    .lang-flag:hover {
      transform: scale(1.1);
      opacity: 1;
    }
    
    .lang-flag.active {
      outline: 2px solid #2196F3;
      outline-offset: 2px;
      border-color: #4CAF50;
      opacity: 1;
      box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
    }



    /* Styles pour le drapeaux (versions simplifi√©es) */
    .flag-fr {
      background: linear-gradient(to right, #0055A4 33.33%, #FFFFFF 33.33%, #FFFFFF 66.66%, #EF4135 66.66%);
    }
    
    .flag-en {
      background: #012169 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 30'%3E%3Cclippath id='a'%3E%3Cpath d='M0 0v30h60V0z'/%3E%3C/clippath%3E%3Cpath fill='%23012169' d='M0 0v30h60V0z'/%3E%3Cpath stroke='%23fff' d='M0 0l60 30m0-30L0 30'/%3E%3Cpath stroke='%23C8102E' stroke-width='6' d='M0 0l60 30m0-30L0 30' clip-path='url(%23a)'/%3E%3Cpath fill='none' stroke='%23fff' stroke-width='10' d='M30 0v30M0 15h60'/%3E%3Cpath fill='none' stroke='%23C8102E' stroke-width='6' d='M30 0v30M0 15h60'/%3E%3C/svg%3E") center/cover no-repeat;
    }
    
    .flag-es {
      background: linear-gradient(to bottom, #C60B1E 25%, #FFC400 25%, #FFC400 75%, #C60B1E 75%);
    }

    /* Drapeau hongrois */
    .flag-hu {
      background: linear-gradient(to bottom, #CE2939 33.33%, #FFFFFF 33.33%, #FFFFFF 66.66%, #477050 66.66%);
    }




    /* ===== fin s√©lecteur drapeaux ===== */
  </style>
</head>
<body>
  <!-- S√©lecteur de langue ajout√© (discret en haut √† droite) -->
  <div id="language-selector-container" style="display: block; pointer-events: auto;">
    <div class="language-selector" role="group" aria-label="Langues">
      <div class="lang-flag flag-fr active" data-lang="fr" title="Fran√ßais" onclick="changeLanguage('fr')"></div>
      <div class="lang-flag flag-en" data-lang="en" title="English" onclick="changeLanguage('en')"></div>
      <div class="lang-flag flag-es" data-lang="es" title="Espa√±ol" onclick="changeLanguage('es')"></div>
      <div class="lang-flag flag-hu" data-lang="hu" title="Magyar" onclick="changeLanguage('hu')"></div>
    </div>
  </div>

  <div class="container" id="content"></div>

  <script>
    // ‚ö†Ô∏è CONFIGUREZ ICI L'URL DE VOTRE APPLICATION
    const APP_URL = 'https://patdum35.github.io/family-tree-viewer/treeViewer1.6/treeViewer1.6.html';

    // Ajouter un cache-buster automatique - GLOBAL pour √™tre accessible partout
    window.FULL_URL = APP_URL + '?v=' + Date.now();

    // --- Traductions (uniquement les textes affich√©s) ---
    const T = {
      fr: {
        title: "‚ö†Ô∏è Navigateur compatible ?",
        using: "Vous utilisez",
        risk: "Ce navigateur risque d'inverser les couleurs de l'app.",
        colorRisk: "Ce navigateur inverse les couleurs de l'app.",
        solutionsStrong: "Solutions :",
        s1: "Ouvrez dans <strong>Chrome</strong> ou <strong>Firefox</strong>",
        s2: "Plan B : Continuer quand m√™me, et activer le mode site lumineux",
        s3: "Plan C : Copiez l'URL et coller dans un autre browser",
        chromeBtn: "üöÄ Ouvrir dans Chrome",
        continueBtn: "‚ö†Ô∏è Continuer quand m√™me",
        copyBtn: "üìã Copier l'URL",
        copiedMsg: "‚úÖ URL copi√©e !",
        chromeAlert: "Si Chrome ne s\\'ouvre pas, utilisez le bouton \"Copier l\\'URL\"",
        chromeIntentFailedMsg: "Impossible d'ouvrir Chrome automatiquement.\nOK = Installer Chrome\nAnnuler = Copier l'URL",
      },
      en: {
        title: "‚ö†Ô∏è Compatible browser?",
        using: "You are using",
        risk: "This browser may invert the app's colors.",
        colorRisk: "This browser will invert the app colors.",
        solutionsStrong: "Solutions:",
        s1: "Open with <strong>Chrome</strong> or <strong>Firefox</strong>",
        s2: "Plan B: Continue anyway and enable light mode",
        s3: "Plan C: Copy the URL and open it in another browser",
        chromeBtn: "üöÄ Open in Chrome",
        continueBtn: "‚ö†Ô∏è Continue anyway",
        copyBtn: "üìã Copy URL",
        copiedMsg: "‚úÖ URL copied!",
        chromeAlert: "If Chrome doesn't open, use the 'Copy URL' button",
        chromeIntentFailedMsg: "Couldn't open Chrome automatically.\nOK = Install Chrome\nCancel = Copy URL",
      },
      es: {
        title: "‚ö†Ô∏è ¬øNavegador compatible?",
        using: "Est√°s usando",
        risk: "Este navegador puede invertir los colores de la aplicaci√≥n.",
        colorRisk: "Este navegador invertir√° los colores de la aplicaci√≥n.",
        solutionsStrong: "Soluciones :",
        s1: "Abre en <strong>Chrome</strong> o <strong>Firefox</strong>",
        s2: "Plan B : Continuar de todos modos y activar el modo claro",
        s3: "Plan C : Copia la URL y √°brela en otro navegador",
        chromeBtn: "üöÄ Abrir en Chrome",
        continueBtn: "‚ö†Ô∏è Continuar de todos modos",
        copyBtn: "üìã Copiar URL",
        copiedMsg: "‚úÖ URL copiada!",
        chromeAlert: "Si Chrome no se abre, usa el bot√≥n 'Copiar URL'",
        chromeIntentFailedMsg: "No se pudo abrir Chrome autom√°ticamente.\nOK = Instalar Chrome\nCancelar = Copiar URL",
      },
      hu: {
        title: "‚ö†Ô∏è Kompatibilis b√∂ng√©sz≈ë?",
        using: "√ñn ezt haszn√°lja:",
        risk: "Ez a b√∂ng√©sz≈ë megford√≠thatja az alkalmaz√°s sz√≠neit.",
        colorRisk: "Ez a b√∂ng√©sz≈ë meg fogja ford√≠tani az app sz√≠neit.",
        solutionsStrong: "Megold√°sok :",
        s1: "Nyissa meg <strong>Chrome</strong> vagy <strong>Firefox</strong> b√∂ng√©sz≈ëben",
        s2: "B terv : Folytassa √≠gy is, √©s kapcsolja be a vil√°gos m√≥dot",
        s3: "C terv : M√°solja a c√≠met, √©s nyissa meg m√°sik b√∂ng√©sz≈ëben",
        chromeBtn: "üöÄ Megnyit√°s Chrome-ban",
        continueBtn: "‚ö†Ô∏è Folytat√°s m√©gis",
        copyBtn: "üìã URL m√°sol√°sa",
        copiedMsg: "‚úÖ URL m√°solva!",
        chromeAlert: "Ha a Chrome nem ny√≠lik meg, haszn√°lja az 'URL m√°sol√°sa' gombot",
        chromeIntentFailedMsg: "Nem siker√ºlt automatikusan megnyitni a Chrome-ot.\nOK = Chrome telep√≠t√©se\nM√©gse = URL m√°sol√°sa",
      }
    };

    // --- D√©tection imm√©diate (TA LOGIQUE, INCHANG√âE) ---
    (function() {
      const ua = navigator.userAgent.toLowerCase();
      let isProblematic = false;
      let browserName = '';

      const dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      // Liste des navigateurs probl√©matiques
      if (/iphone|ipad|ipod/.test(ua)) {
        isProblematic = false;
        if (ua.includes('crios')) browserName = 'Chrome (iOS)';
        else if (ua.includes('fxios')) browserName = 'Firefox (iOS)';
        else browserName = 'Safari';
      } else if (ua.includes('samsungbrowser')) {
        isProblematic = true;
        browserName = 'Samsung Internet';
      } else if (ua.includes('miuibrowser') || ua.includes('xbrowser')) {
        isProblematic = true;
        browserName = 'MIUI Browser';
      } else if (ua.includes('oppo')) {
        isProblematic = true;
        browserName = 'Oppo Browser';
      } else if (ua.includes('vivo')) {
        isProblematic = true;
        browserName = 'Vivo Browser';
      } else if (ua.includes('huawei')) {
        isProblematic = true;
        browserName = 'Huawei Browser';
      } else if (ua.includes('ucbrowser')) {
        isProblematic = true;
        browserName = 'UC Browser';
      } else if (ua.includes('android') && !ua.includes('chrome') && !ua.includes('firefox')) {
        isProblematic = true;
        browserName = 'Navigateur syst√®me';
      } else if (ua.includes('edg')) {
        isProblematic = false;
        browserName = 'Edge';
      }  else if (ua.includes('chrome')) {
        isProblematic = false;
        browserName = 'Chrome';
      }
      
      const content = document.getElementById('content');
      
      if (isProblematic) {
      // if (true) {
        // Afficher l'avertissement (MAINTIEN de la mise en page EXACTE ‚Äî on remplace seulement les textes par la traduction active)
        // Rend le contenu via la fonction render() plus bas
      } 
      else {
        // Redirection imm√©diate
        window.location.href = APP_URL;
      }
    })();

    // --- gestion de la langue (ajout minimal, sans changer le reste) ---
    const DEFAULT_LANG = 'fr';
    const saved = localStorage.getItem('redir_lang');
    let LANG = saved || (navigator.language ? navigator.language.slice(0,2) : DEFAULT_LANG);
    if (!T[LANG]) LANG = DEFAULT_LANG;

    function changeLanguage(lang) {
      if (!T[lang]) return;
      LANG = lang;
      localStorage.setItem('redir_lang', lang);
      // met √† jour visuel drapeaux
      document.querySelectorAll('.lang-flag').forEach(f => f.classList.remove('active'));
      const el = document.querySelector('.lang-flag[data-lang="'+lang+'"]');
      if (el) el.classList.add('active');
      renderContent(); // r√©-affiche avec la nouvelle langue
    }

    // --- fonction render qui conserve STRICTEMENT la structure HTML initiale (m√™mes inline-styles, m√™mes classes, m√™mes couleurs) ---
    function renderContent() {
      const ua = navigator.userAgent.toLowerCase();
      let browserName = '';
      if (ua.includes('samsungbrowser')) browserName = 'Samsung Internet';
      else if (ua.includes('miuibrowser') || ua.includes('xbrowser')) browserName = 'MIUI Browser';
      else if (ua.includes('oppo')) browserName = 'Oppo Browser';
      else if (ua.includes('vivo')) browserName = 'Vivo Browser';
      else if (ua.includes('huawei')) browserName = 'Huawei Browser';
      else if (ua.includes('ucbrowser')) browserName = 'UC Browser';
      else if (ua.includes('android') && !ua.includes('chrome') && !ua.includes('firefox')) browserName = 'Navigateur syst√®me';
      else if (ua.includes('edg')) browserName = 'Edge';
      else if (ua.includes('chrome')) browserName = 'Chrome';
      else browserName = 'navigateur inconnu';

      const t = T[LANG] || T['fr'];
      const content = document.getElementById('content');

      const dark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

      let warningMsg = t.risk;  // message par d√©faut
      if (dark) {
        warningMsg = t.colorRisk; // message pour navigateur √† risque en mode sombre
      }
      
      content.innerHTML = `
        <h1 style="white-space: nowrap; margin-top: -20px; margin-bottom: 5px; padding: 0;  font-size: 20px;">${t.title}</h1>
        <p>${t.using} <span class="browser-name" style="padding-top: 0px; padding-bottom: 1px;">${browserName}</span></p>
        <p style= "margin-top: -10px;">${warningMsg}</p>
        
        <div class="steps" style="padding-top: 3px; padding-bottom: 2px; padding-left: 5px; padding-right: 2px;">
          <strong style="padding: 5px;">${t.solutionsStrong}</strong>
          <ol>
            <li>${t.s1}</li>
            <li>${t.s2}</li>
            <li>${t.s3}</li>
          </ol>
        </div>

        <button class="button secondary" onclick="tryChrome()">
          ${t.chromeBtn}
        </button>          
        <button class="button" style="background: #ff9800;" onclick="window.location.href=FULL_URL">
          ${t.continueBtn}
        </button>
        <button class="button" onclick="copyUrl()">
          ${t.copyBtn}
        </button>
      `;
    }

    // appel initial (conserve la condition if (true) que tu avais)
    (function initRender() {
      // garde ton comportement exact : on affiche l'avertissement (tu avais if(true))
      renderContent();
      // active le drapeau correspondant visuellement
      document.querySelectorAll('.lang-flag').forEach(f => {
        if (f.dataset.lang === LANG) f.classList.add('active'); else f.classList.remove('active');
      });
    })();

    // --- fonctions existantes (conserv√©es) ---
    // function tryChrome() {
    //   const url = APP_URL.replace('https://', '');
    //   window.location.href = `intent://${url}#Intent;scheme=https;package=com.android.chrome;end`;
      
    //   setTimeout(() => {
    //     // message localis√© mais fonction inchang√©e
    //     alert(T[LANG] ? T[LANG].chromeAlert : T['fr'].chromeAlert);
    //   }, 2000);
    // }

    function tryChrome() {
      const url = APP_URL.replace('https://', '');
      const intentUrl = `intent://${url}#Intent;scheme=https;package=com.android.chrome;end`;
      const playStoreUrl = 'https://play.google.com/store/apps/details?id=com.android.chrome';
      const start = Date.now();

      // tente l'intent (peut √©chouer silencieusement)
      window.location.href = intentUrl;

      // fallback si rien ne se passe au bout de ~1800ms
      setTimeout(() => {
        // si la page est toujours visible, l'intent n'a probablement pas fonctionn√©
        if (document.visibilityState === 'visible' && Date.now() - start < 3000) {
          // message localis√© (ajoute la cl√© chromeIntentFailedMsg dans T si besoin)
          const msg = (T && T[LANG] && T[LANG].chromeIntentFailedMsg) ?
                        T[LANG].chromeIntentFailedMsg :
                        "Impossible d'ouvrir Chrome automatiquement.\nOK = Installer Chrome\nAnnuler = Copier l'URL";

          // confirm() : OK => ouvrir Play Store, Annuler => copier URL
          if (confirm(msg)) {
            // ouvre le Play Store dans un nouvel onglet
            try { window.open(playStoreUrl, '_blank'); }
            catch (e) { window.location.href = playStoreUrl; }
          } else {
            // r√©utilise ta fonction copyUrl() existante
            try { copyUrl(); }
            catch (e) { navigator.clipboard && navigator.clipboard.writeText(APP_URL); alert("URL copi√©e !"); }
          }
        }
      }, 1800);
    }

    function copyUrl() {
      const url = APP_URL;
      const textArea = document.createElement('textarea');
      textArea.value = url;
      textArea.style.position = 'fixed';
      textArea.style.left = '-9999px';
      document.body.appendChild(textArea);
      textArea.select();
      
      try {
        document.execCommand('copy');
        const existing = document.querySelector('.success');
        if (existing) existing.remove();
        const msg = document.createElement('div');
        msg.className = 'success';
        msg.textContent = T[LANG] ? T[LANG].copiedMsg : T['fr'].copiedMsg;
        document.querySelector('.steps').after(msg);
        setTimeout(() => msg.remove(), 2000);
      } catch (err) {
        alert('Copiez manuellement : ' + url);
      }
      
      document.body.removeChild(textArea);
    }

  </script>
</body>
</html>
